<div class="form-container">
  <h2>{{ isEdit ? 'Modifier' : 'Créer' }} une Présentation</h2>

  <form [formGroup]="presentationForm" (ngSubmit)="onSubmit()" class="presentation-form">

    <div class="form-group">
      <label for="title">Titre de la présentation <span class="required">*</span></label>
      <input id="title" type="text" formControlName="title" placeholder="Ex: Rapport annuel 2025, Présentation produit X" class="form-control" />
      <div *ngIf="presentationForm.get('title')?.invalid && presentationForm.get('title')?.touched" class="error-message">
        Le titre est requis.
      </div>
    </div>

    <div class="form-group">
      <label for="description">Description (Optionnel)</label>
      <textarea id="description" formControlName="description" rows="3" placeholder="Décrivez brièvement le sujet de votre présentation." class="form-control"></textarea>
    </div>

    <div class="form-group">
      <label for="content">Contenu détaillé ou mots-clés <span class="required">*</span></label>
      <textarea id="content" formControlName="content" rows="8" placeholder="Fournissez le texte complet, les points clés, ou les mots-clés que l'IA doit utiliser pour générer les slides." class="form-control"></textarea>
      <div *ngIf="presentationForm.get('content')?.invalid && presentationForm.get('content')?.touched" class="error-message">
        Le contenu est requis.
      </div>
    </div>

    <!-- Le champ 'Paramètres' pourrait être une section plus avancée pour les options de génération -->
    <div class="form-group">
      <label for="settings">Paramètres de génération (Optionnel)</label>
      <input id="settings" type="text" formControlName="settings" placeholder="Ex: Style formel, 5 slides max, inclure des images" class="form-control" />
    </div>

    <button type="submit" class="btn-submit" [disabled]="presentationForm.invalid || isLoading">
      <span *ngIf="!isLoading">{{ isEdit ? 'Mettre à jour' : 'Générer la présentation' }}</span>
      <span *ngIf="isLoading">Génération en cours...</span>
    </button>

    <div *ngIf="errorMessage" class="alert alert-danger mt-3">
      {{ errorMessage }}
    </div>

  </form>
</div>
