<div class="template-details-container">
  <button class="back-button" (click)="goBack()">ğŸ”™ Retour</button>

  <div *ngIf="template" class="template-presentation">
    <!-- AperÃ§u dynamique du template -->
    <div class="preview-box">
      <div
        *ngIf="parsedStructure?.sections?.length; else noPreview"
        [ngStyle]="parsedStyles"
        class="dynamic-preview"
      >
        <div *ngFor="let section of parsedStructure.sections">
          <ng-container [ngSwitch]="section.type">
            <h2 *ngSwitchCase="'title'">{{ section.content || 'Titre par dÃ©faut' }}</h2>
              <p *ngSwitchCase="'text'">{{ section.content || 'ğŸš¨ Contenu manquant !' }}</p>
            <div *ngSwitchDefault>Type inconnu</div>
          </ng-container>
        </div>
      </div>

      <ng-template #noPreview>
        <div class="no-preview">AperÃ§u indisponible</div>
      </ng-template>
    </div>

    <!-- DÃ©tails du template -->
    <div class="info-box">
      <h1>{{ template.name }}</h1>
      <p><strong>CatÃ©gorie :</strong> {{ template.category }}</p>
      <p><strong>Structure :</strong> {{ template.structure }}</p>
      <p><strong>Styles :</strong> {{ template.styles }}</p>
      <p>
        <strong>Public :</strong>
        <span [ngClass]="template.isPublic ? 'public-yes' : 'public-no'">
          {{ template.isPublic ? 'Oui' : 'Non' }}
        </span>
      </p>
    </div>
  </div>
</div>
