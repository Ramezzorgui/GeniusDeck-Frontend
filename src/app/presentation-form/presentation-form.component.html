<div class="form-container">
  <h2>{{ isEdit ? 'Modifier' : 'Créer' }} une Présentation</h2>

  <form [formGroup]="presentationForm" (ngSubmit)="onSubmit()" class="presentation-form">

    <div class="form-group">
      <label for="title">Titre de la présentation <span class="required">*</span></label>
      <input 
        id="title" 
        type="text" 
        formControlName="title" 
        placeholder="Ex: Rapport annuel 2025, Présentation produit X" 
        class="form-control"
        [class.error]="isFieldInvalid('title')" />
      <div *ngIf="isFieldInvalid('title')" class="error-message">
        {{ getFieldError('title') }}
      </div>
    </div>

    <div class="form-group">
      <label for="description">Description (Optionnel)</label>
      <textarea 
        id="description" 
        formControlName="description" 
        rows="3" 
        placeholder="Décrivez brièvement le sujet de votre présentation." 
        class="form-control">
      </textarea>
    </div>

    <div class="form-group">
      <label for="content">Contenu détaillé ou mots-clés <span class="required">*</span></label>
      <textarea 
        id="content" 
        formControlName="content" 
        rows="8" 
        placeholder="Fournissez le texte complet, les points clés, ou les mots-clés que l'IA doit utiliser pour générer les slides." 
        class="form-control"
        [class.error]="isFieldInvalid('content')">
      </textarea>
      <div *ngIf="isFieldInvalid('content')" class="error-message">
        {{ getFieldError('content') }}
      </div>
    </div>

    <div class="form-group">
      <label for="settings">Paramètres de génération (Optionnel)</label>
      <input 
        id="settings" 
        type="text" 
        formControlName="settings" 
        placeholder="Ex: Style formel, 5 slides max, inclure des images" 
        class="form-control" />
    </div>

    <button type="submit" class="btn-submit" [disabled]="presentationForm.invalid || isLoading">
      <span *ngIf="!isLoading">{{ isEdit ? 'Mettre à jour' : 'Générer la présentation' }}</span>
      <span *ngIf="isLoading">
        <i class="spinner"></i> Génération en cours...
      </span>
    </button>

    <div *ngIf="errorMessage" class="alert alert-danger mt-3">
      <i class="error-icon"></i>
      {{ errorMessage }}
    </div>

  </form>
</div>
